<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="fas fa-box me-2"></i>商品訂單管理</h2>
    <!-- <div class="d-flex gap-2">
        <input type="text" class="form-control bg-dark text-white border-secondary" placeholder="搜尋訂單編號..."
            style="width: 200px;">
        <input type="date" class="form-control bg-dark text-white border-secondary" style="width: 150px;">
    </div> -->
</div>

<!-- 訂單統計卡片 -->
<!-- <div class="row g-3 mb-4">
    <div class="col-md-3">
        <div class="card bg-warning bg-opacity-10 border-warning">
            <div class="card-body text-center">
                <i class="fas fa-clock fa-2x text-warning mb-2"></i>
                <h3 class="text-warning mb-0">8</h3>
                <small class="text-muted">待備貨</small>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-info bg-opacity-10 border-info">
            <div class="card-body text-center">
                <i class="fas fa-box-open fa-2x text-info mb-2"></i>
                <h3 class="text-info mb-0">4</h3>
                <small class="text-muted">備貨中</small>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-primary bg-opacity-10 border-primary">
            <div class="card-body text-center">
                <i class="fas fa-shipping-fast fa-2x text-primary mb-2"></i>
                <h3 class="text-primary mb-0">5</h3>
                <small class="text-muted">運送中</small>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-success bg-opacity-10 border-success">
            <div class="card-body text-center">
                <i class="fas fa-check-circle fa-2x text-success mb-2"></i>
                <h3 class="text-success mb-0">126</h3>
                <small class="text-muted">已完成</small>
            </div>
        </div>
    </div>
</div> -->

<div class="card bg-dark border-secondary">
    <div class="card-header border-secondary">
        <ul class="nav nav-tabs card-header-tabs" id="productOrderTabs">
            <!-- <li class="nav-item">
                <a class="nav-link active text-white" href="#" data-status="pending">
                    待備貨 <span class="badge bg-warning ms-1">8</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-muted" href="#" data-status="preparing">
                    備貨中 <span class="badge bg-info ms-1">4</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-muted" href="#" data-status="shipping">
                    運送中 <span class="badge bg-primary ms-1">5</span>
                </a>
            </li> -->
            <li class="nav-item">
                <a class="nav-link text-muted" href="#" data-status="completed">
                    全部訂單
                </a>
            </li>
            <!-- <li class="nav-item">
                <a class="nav-link text-muted" href="#" data-status="refund">
                    退款/退貨 <span class="badge bg-danger ms-1">2</span>
                </a>
            </li> -->
        </ul>
    </div>
    <div class="card-body p-0">
        <table class="table table-dark table-hover mb-0">
            <thead>
                <tr>
                    <!-- <th><input type="checkbox" class="form-check-input" id="selectAllOrders"></th> -->
                    <th>訂單編號</th>
                    <th>購買人</th>
                    <th>商品明細</th>
                    <th>總額</th>
                    <th>下單時間</th>
                    <!-- <th>狀態</th> -->
                    <!-- <th>操作</th> -->
                </tr>
            </thead>
            <tbody id="productOrdersTable">
                <tr th:each="organizerOrder:${allOrganizerProdOrder}">
                    <!-- <td><input type="checkbox" class="form-check-input order-checkbox"></td> -->
                    <td><code th:text="${organizerOrder.orderId}">#MOP20241226001</code></td>
                    <td>
                        <div class="d-flex align-items-center">
                            <div>
                                <div class="text-success" th:text="${organizerOrder.memberId.name}">林書涵</div>
                                <small class="text-muted" th:text="${organizerOrder.memberId.phone}">0912***678</small>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="badge bg-secondary">
                            <span th:text="${organizerOrder.orderItems.size()}">2</span> 
                            項商品</span>
                        <small class="d-block text-light-50 text-success">
                            <th:block th:each="item, iterStat : ${organizerOrder.orderItems}">
                                <span th:text="${item.prodId.prodName} + ' x' + ${item.quantity}">商品名稱 x1</span>
                                <span th:if="${!iterStat.last}">, </span>
                            </th:block>
                        </small>
                    </td>
                    <td class="fw-bold">
                        <span class="text-success">NT$ </span>
                        <span class="text-success" th:text="${#numbers.formatInteger(organizerOrder.total, 1, 'COMMA')}">1,330</span>
                    </td>
                    <td>
                        <div class="text-success" th:text="${#dates.format(organizerOrder.createdDate, 'yyyy/MM/dd')}">2024/12/26</div>
                        <small class="text-muted" th:text="${#dates.format(organizerOrder.createdDate,'HH:mm')}">14:30</small>
                    </td>
                    <!-- <td><span class="badge bg-warning text-dark">待備貨</span></td> -->
                    <!-- <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-info" title="查看詳情"
                                onclick="showOrderDetail('MOP20241226001')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-outline-primary" title="開始備貨"
                                onclick="updateOrderStatus('MOP20241226001', 'preparing')">
                                <i class="fas fa-box-open"></i>
                            </button>
                        </div>
                    </td> -->
                 </tr>
                <!--<tr>
                    <td><input type="checkbox" class="form-check-input order-checkbox"></td>
                    <td><code>#MOP20241226002</code></td>
                    <td>
                        <div class="d-flex align-items-center">
                            <img src="https://ui-avatars.com/api/?name=陳柏翰&background=2D5F4F&color=fff&size=32"
                                class="rounded-circle me-2" style="width: 32px;">
                            <div>
                                <div>陳柏翰</div>
                                <small class="text-muted">0923***789</small>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="badge bg-secondary">1 項商品</span>
                        <small class="d-block text-muted">黑膠套裝 x1</small>
                    </td>
                    <td class="text-success fw-bold">NT$ 1,280</td>
                    <td>
                        <div>2024/12/26</div>
                        <small class="text-muted">13:15</small>
                    </td>
                    <td><span class="badge bg-warning text-dark">待備貨</span></td>
                    <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-info" title="查看詳情"
                                onclick="showOrderDetail('MOP20241226002')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-outline-primary" title="開始備貨"
                                onclick="updateOrderStatus('MOP20241226002', 'preparing')">
                                <i class="fas fa-box-open"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="form-check-input order-checkbox"></td>
                    <td><code>#MOP20241225003</code></td>
                    <td>
                        <div class="d-flex align-items-center">
                            <img src="https://ui-avatars.com/api/?name=張雅晴&background=2D5F4F&color=fff&size=32"
                                class="rounded-circle me-2" style="width: 32px;">
                            <div>
                                <div>張雅晴</div>
                                <small class="text-muted">0934***890</small>
                            </div>
                        </div>
                    </td>
                    <td>
                        <span class="badge bg-secondary">3 項商品</span>
                        <small class="d-block text-muted">明信片組 x2, 海報 x1</small>
                    </td>
                    <td class="text-success fw-bold">NT$ 1,060</td>
                    <td>
                        <div>2024/12/25</div>
                        <small class="text-muted">18:45</small>
                    </td>
                    <td><span class="badge bg-warning text-dark">待備貨</span></td>
                    <td>
                        <div class="btn-group btn-group-sm">
                            <button class="btn btn-outline-info" title="查看詳情"
                                onclick="showOrderDetail('MOP20241225003')">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-outline-primary" title="開始備貨"
                                onclick="updateOrderStatus('MOP20241225003', 'preparing')">
                                <i class="fas fa-box-open"></i>
                            </button>
                        </div>
                    </td>
                </tr> -->
            </tbody>
        </table>
    </div>
    <!-- <div class="card-footer border-secondary d-flex justify-content-between align-items-center">
        <div>
            <button class="btn btn-sm btn-outline-primary me-2" id="btnBatchPrepare">
                <i class="fas fa-box-open me-1"></i>批次備貨
            </button>
            <button class="btn btn-sm btn-outline-info" id="btnBatchShip">
                <i class="fas fa-shipping-fast me-1"></i>批次出貨
            </button>
        </div>
        <nav>
            <ul class="pagination pagination-sm mb-0">
                <li class="page-item disabled"><a class="page-link" href="#">上一頁</a></li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">下一頁</a></li>
            </ul>
        </nav>
    </div> -->
</div>