<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Momento | 探索你的精彩時刻</title>

	<!-- SEO Meta Tags -->
	<meta name="description" content="Momento 是台灣領先的藝文票務與文創商品平台，探索音樂會、戲劇、展覽等精彩活動，發現獨特的文創設計商品。">
	<meta name="keywords" content="藝文活動,票務平台,文創商品,音樂會,戲劇表演,藝術展覽,手作工坊,Momento">
	<meta name="author" content="Momento">
	<meta name="robots" content="index, follow">

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://momento.com/">
	<meta property="og:title" content="Momento | 探索你的精彩時刻">
	<meta property="og:description" content="Momento 是台灣領先的藝文票務與文創商品平台，探索音樂會、戲劇、展覽等精彩活動。">
	<meta property="og:image" content="https://momento.com/assets/og-image.jpg">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://momento.com/">
	<meta property="twitter:title" content="Momento | 探索你的精彩時刻">
	<meta property="twitter:description" content="Momento 是台灣領先的藝文票務與文創商品平台">
	<meta property="twitter:image" content="https://momento.com/assets/og-image.jpg">

	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- Custom Theme -->
	<link href="css/momento-theme.css" rel="stylesheet">
	<style>
		/* 公告欄跑馬燈 */
		.announce_bar {
			border-bottom: 1px solid rgba(45, 95, 79, 0.3);
		}

		.announce_marquee {
			height: 24px;
			mask-image: linear-gradient(90deg, transparent, black 5%, black 95%, transparent);
			-webkit-mask-image: linear-gradient(90deg, transparent, black 5%, black 95%, transparent);
		}

		.announce_track {
			animation: marquee 30s linear infinite;
			white-space: nowrap;
		}

		.announce_track:hover {
			animation-play-state: paused;
		}

		.announce_item {
			display: inline-flex;
			align-items: center;
			padding: 0 2rem;
			color: rgba(255, 255, 255, 0.9);
			font-size: 0.9rem;
			cursor: pointer;
			transition: color 0.2s;
		}

		.announce_item:hover {
			color: #10B981;
		}

		.announce_item .badge {
			font-size: 0.65rem;
		}

		@keyframes marquee {
			0% {
				transform: translateX(0);
			}

			100% {
				transform:
					translateX(-50%);
			}
		}

		@media (max-width : 767.98px) {
			.announce_item {
				padding: 0 1rem;
				font-size: 0.8rem;
			}
		}

		/* 修正活動卡片標籤溢出問題 */
		.card {
			overflow: visible;
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s ease;
		}

		/* === 全局質感強化 (Premium Texture Pack) === */

		/* 1. 背景噪點紋理 (Noise Texture) - 增加電影感 */
		body {
			position: relative;
			background-color: #0b0f0d;
			/* 更深邃的基底色 */
		}

		body::before {
			content: "";
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
			pointer-events: none;
			z-index: 9999;
			opacity: 0.4;
			/* 控制噪點明顯度 */
			mix-blend-mode: overlay;
		}

		/* 2. 環境光暈 (Ambient Globs) - 增加色彩深度 */
		.ambient-light {
			position: fixed;
			border-radius: 50%;
			filter: blur(100px);
			z-index: -1;
			opacity: 0.4;
			pointer-events: none;
		}

		.ambient-light.primary {
			top: -10%;
			right: -5%;
			width: 600px;
			height: 600px;
			background: radial-gradient(circle, rgba(16, 185, 129, 0.15) 0%, rgba(0, 0, 0, 0) 70%);
		}

		.ambient-light.secondary {
			bottom: 20%;
			left: -10%;
			width: 500px;
			height: 500px;
			background: radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
		}

		/* 3. 卡片質感優化 (Glassmorphism Lite) */
		.event-card,
		.product-card {
			border: 1px solid rgba(255, 255, 255, 0.05);
			background: rgba(30, 34, 32, 0.6);
			/* 半透明背景 */
			backdrop-filter: blur(10px);
			/* 毛玻璃效果 (支援的瀏覽器) */
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
		}

		.event-card:hover,
		.product-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
			border-color: rgba(16, 185, 129, 0.3);
			/* Hover 時亮綠色邊框 */
		}

		.card .card-img-top {
			border-radius: 12px 12px 0 0;
		}

		.card .position-relative .badge {
			z-index: 10;
			white-space: nowrap;
		}

		/* Article Card Hover Effect */
		.article_hover {
			transition: transform 0.2s ease, box-shadow 0.2s ease;
		}

		.article_hover:hover {
			transform: translateY(-4px);
			box-shadow: 0 8px 25px rgba(45, 95, 79, 0.15);
		}

		/* Logo 誇張動畫效果 */
		.logo-mega-pop {
			display: inline-block;
			animation: logoMegaPop 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55) both;
		}

		@keyframes logoMegaPop {
			0% {
				transform: scale(1) rotate(0);
				filter: hue-rotate(0deg);
			}

			25% {
				transform: scale(1.8) rotate(-15deg);
				filter: hue-rotate(90deg);
				text-shadow: 0 0 20px #10B981;
			}

			50% {
				transform: scale(0.8) rotate(15deg);
				filter: hue-rotate(180deg);
			}

			75% {
				transform: scale(1.5) rotate(-5deg);
				filter: hue-rotate(270deg);
				text-shadow: 0 0 30px #10B981;
			}

			100% {
				transform: scale(1) rotate(0);
				filter: hue-rotate(360deg);
			}
		}
	</style>
</head>

<body>

	<!-- Header -->
	<nav class="navbar navbar-expand-lg sticky-top">
		<div class="container-fluid px-lg-5">
			<a class="navbar-brand" th:href="@{/}">Momento</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
				<span class="navbar-toggler-icon" style="filter: invert(1);"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item"><a class="nav-link active" th:href="@{/event/list}">找活動</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{prod/listAllProd}">找商品</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{/article}">文章</a>
					</li>
					<li class="nav-item"><a class="nav-link" th:href="@{/about}">關於我們</a></li>
				</ul>

				<form class="d-flex mx-auto col-lg-4" role="search">
					<div class="input-group cursor-pointer" data-bs-toggle="modal" data-bs-target="#search_modal">
						<span class="input-group-text bg-dark border-secondary text-secondary">
							<i data-lucide="search" class="icon-sm"></i>
						</span> <input class="form-control bg-dark text-white border-secondary" type="search"
							placeholder="搜尋活動或商品..." aria-label="Search" readonly style="cursor: pointer;">
					</div>
				</form>

				<div class="d-flex align-items-center gap-3 ms-lg-3 mt-3 mt-lg-0">
					<a href="member/cart" class="position-relative text-white text-decoration-none">
						<i data-lucide="shopping-cart" class="icon-md"></i>
						<span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
							style="font-size: 0.6rem;"> 2 </span>
					</a>
					<div th:if="${session.loginMember}">
						<a th:text="${session.loginMember.name}"></a> <a th:href="@{/member/dashboard}"
							class="btn btn-primary btn-sm px-4">會員中心</a> <a th:href="@{/member/logout}"
							class="btn btn-primary btn-sm px-4">登出</a>
					</div>
					<div th:unless="${session.loginMember}">
						<a th:href="@{/member/login}" class="btn btn-primary btn-sm px-4">登入</a>
						<a th:href="@{/member/register}" class="btn btn-primary btn-sm px-4">註冊</a>
					</div>
				</div>
			</div>
		</div>
	</nav>

	<!-- Announcement Banner (Carousel) -->
	<div id="hero_carousel" class="carousel slide" data-bs-ride="carousel">

		<div class="carousel-indicators">
			<button type="button" data-bs-target="#hero_carousel" th:each="item, iterStat : ${carouselList}"
				th:attr="data-bs-slide-to=${iterStat.index}" th:classappend="${iterStat.index == 0} ? 'active'"
				aria-current="true" th:aria-label="'Slide ' + ${iterStat.count}">
			</button>
		</div>

		<div class="carousel-inner">

			<div th:if="${#lists.isEmpty(carouselList)}" class="carousel-item active">
				<img src="https://via.placeholder.com/1920x600/333/FFF?text=Momento+Events" class="d-block w-100"
					style="height: 500px; object-fit: cover; filter: brightness(0.7);">
				<div class="carousel-caption d-none d-md-block text-start">
					<h1 class="display-4 fw-bold">精彩活動 敬請期待</h1>
					<p class="lead">目前沒有主打活動，請稍後再回來查看。</p>
				</div>
			</div>

			<div th:each="item, iterStat : ${carouselList}" class="carousel-item"
				th:classappend="${iterStat.index == 0} ? 'active'" data-bs-interval="5000">

				<img loading="lazy" th:src="${item.imageUrl}" class="d-block w-100"
					style="height: 500px; object-fit: cover; filter: brightness(0.7);" th:alt="${item.title}">

				<div class="carousel-caption d-none d-md-block text-start">
					<span class="badge bg-success mb-2">主打活動</span>

					<h1 class="display-4 fw-bold" th:text="${item.title}">活動標題</h1>

					<p class="lead" th:text="${#strings.abbreviate(item.content, 50)}">活動簡介...</p>

					<a th:href="@{/event/{id}(id=${item.eventId})}" class="btn btn-primary btn-lg mt-3">
						查看詳情 <i class="fas fa-arrow-right ms-2"></i>
					</a>
				</div>
			</div>
		</div>

		<button class="carousel-control-prev" type="button" data-bs-target="#hero_carousel" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Previous</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#hero_carousel" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden">Next</span>
		</button>
	</div>

	<!-- Announcement Bar / 公告欄 -->
	<div class="announce_bar py-2" style="background: linear-gradient(90deg, #1a1a1a 0%, #2D5F4F 50%, #1a1a1a 100%);">
		<div class="container-fluid" style="max-width: 1400px;">
			<div class="d-flex align-items-center">
				<span class="badge bg-warning text-dark me-3 d-none d-sm-inline-block">
					<i class="fas fa-bullhorn me-1"></i>公告
				</span>
				<div class="announce_marquee flex-grow-1 overflow-hidden position-relative">
					<div class="announce_track d-flex" id="announce_track">
						<!-- 公告項目由 JS 動態載入 -->
					</div>
				</div>
				<button class="btn btn-sm btn-outline-light ms-3 d-none d-md-inline-block" data-bs-toggle="modal"
					data-bs-target="#announce_modal">
					<i class="fas fa-list-ul me-1"></i>全部公告
				</button>
			</div>
		</div>
	</div>

	<!-- Announcement Modal / 公告列表 Modal -->
	<div class="modal fade" id="announce_modal" tabindex="-1">
		<div class="modal-dialog modal-lg modal-dialog-scrollable">
			<div class="modal-content bg-dark text-white border-secondary">
				<div class="modal-header border-secondary">
					<h5 class="modal-title">
						<i class="fas fa-bullhorn me-2 text-warning"></i>平台公告
					</h5>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body p-0">
					<div class="list-group list-group-flush" id="announce_list">
						<!-- 公告列表由 JS 動態載入 -->
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Featured Events Section (最大版面) -->
	<section class="container-fluid py-5" style="max-width: 1400px;">
		<div class="d-flex justify-content-between align-items-center mb-4">
			<div>
				<h2 class="mb-1">
					<i data-lucide="calendar" class="text-success me-2"></i>最新活動
				</h2>
				<p class="text-muted mb-0 small">探索平台最新上架的精彩藝文活動</p>
			</div>
			<a th:href="@{/event/list}" class="btn btn-outline-primary">
				探索更多活動 <i class="fas fa-arrow-right ms-1"></i>
			</a>
		</div>

		<div class="row g-4" th:if="${latestEvents != null and !#lists.isEmpty(latestEvents)}">
			<!-- Featured Event (大卡片) - 使用最新的一筆 -->
			<div class="col-12 col-lg-6" th:with="mainEvent=${latestEvents[0]}">
				<div class="card h-100 border-0 overflow-hidden" style="background: #2a2a2a;">
					<div class="position-relative">
						<a th:href="@{/event/{id}(id=${mainEvent.eventId})}">
							<img loading="lazy" th:src="${mainEvent.coverImageUrl}" class="card-img-top"
								style="height: 350px; object-fit: cover;" th:alt="${mainEvent.title}">
						</a>
						<div class="position-absolute top-0 start-0 m-3 d-flex flex-column gap-2">
							<span class="badge bg-warning text-dark"><i class="fas fa-crown me-1"></i>最新上架</span>
							<span class="badge bg-success" th:text="${mainEvent.typeName}">音樂演出</span>
						</div>
					</div>
					<div class="card-body d-flex flex-column p-2" style="min-height: 80px;">
						<h5 class="card-title text-white mb-1">
							<a th:href="@{/event/{id}(id=${mainEvent.eventId})}" class="text-white text-decoration-none"
								th:text="${mainEvent.title}">2025新年音樂會｜維也納之夜</a>
						</h5>
						<div class="mb-1">
							<div class="text-white-50 small mb-0" style="font-size: 0.8rem;">
								<i class="fas fa-calendar-alt me-1"></i>
								<span
									th:text="${#temporals.format(mainEvent.eventStartAt, 'yyyy/MM/dd (E) HH:mm')}">2024/12/31
									(二) 19:30</span>
							</div>
							<div class="text-white-50 small mb-0" style="font-size: 0.8rem;">
								<i class="fas fa-map-marker-alt me-1"></i>
								<span th:text="${mainEvent.place}">中山堂中正廳</span>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Event Cards (右側 2x2 網格) - 使用其餘 4 筆 -->
			<div class="col-12 col-lg-6">
				<div class="row g-3 h-100">
					<div class="col-6" th:each="event, iterStat : ${latestEvents}" th:if="${iterStat.index > 0}">
						<div class="card h-100 border-secondary bg-dark article_hover">
							<div class="position-relative">
								<a th:href="@{/event/{id}(id=${event.eventId})}">
									<img loading="lazy" th:src="${event.coverImageUrl}" class="card-img-top"
										style="height: 140px; object-fit: cover;" th:alt="${event.title}">
								</a>
								<span class="badge bg-light text-dark position-absolute top-0 end-0 m-2 shadow-sm small"
									th:text="${#temporals.format(event.eventStartAt, 'MM/dd')}">10/01</span>
								<span class="badge bg-info position-absolute bottom-0 start-0 m-2 small"
									th:text="${event.typeName}">藝術展覽</span>
							</div>
							<div class="card-body p-2" style="min-height: 65px;">
								<h6 class="card-title mb-1 text-truncate" style="font-size: 0.9rem;">
									<a th:href="@{/event/{id}(id=${event.eventId})}"
										class="text-white text-decoration-none" th:text="${event.title}">活動標題</a>
								</h6>
								<p class="card-text text-muted small mb-0 text-truncate" style="font-size: 0.7rem;">
									<i class="fas fa-map-marker-alt me-1"></i><span th:text="${event.place}">地點</span>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- 若無活動時的預設顯示 -->
		<div class="row" th:if="${latestEvents == null or #lists.isEmpty(latestEvents)}">
			<div class="col-12 text-center py-5">
				<p class="text-muted">目前尚無最新活動,敬請期待!</p>
			</div>
		</div>
		<!-- 更多活動快速入口 -->
		<div class="d-flex gap-2 mt-3" th:if="${eventTypes != null}"
			style="overflow-x: auto; flex-wrap: nowrap; padding-top: 12px; padding-bottom: 8px;">
			<div th:each="tc : ${eventTypes}" style="flex: 1 1 0; min-width: 0;">
				<a th:href="@{/event/list(typeId=${tc.type.typeId})}"
					class="card text-decoration-none d-flex flex-row align-items-center justify-content-center py-2 px-3 article_hover"
					style="height: 75px; width: 100%; background-color: #16241D; border: 1px solid #2C4236;">
					<i th:data-lucide="${tc.lucideIcon}" th:class="${tc.colorClass} + ' me-2 flex-shrink-0'"
						style="width: 24px; height: 24px;"></i>
					<p class="text-white small mb-0 fw-bold text-truncate" th:text="${tc.type.typeName}"
						style="font-size: 0.9rem;">活動類型</p>
				</a>
			</div>
		</div>
	</section>

	<!-- Featured Merchandise Section (適中版面) -->
	<section class="container-fluid py-4" style="max-width: 1400px;">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<div>
				<h4 class="mb-0">
					<i data-lucide="shopping-bag" class="text-warning me-2"></i>最新周邊商品
				</h4>
			</div>
			<a th:href="@{prod/listAllProd}" class="text-decoration-none text-muted small"> 查看更多 <i
					class="fas fa-arrow-right"></i>
			</a>
		</div>

		<div class="row g-3">
			<!-- Product Card 1 -->
			<div class="col-6 col-md-4 col-lg-2" th:each="prod:${latestProds}">
				<a th:href="@{/prod/getOne_For_Display(prodId=${prod.prodId})}" class="text-decoration-none">
					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card">
						<img loading="lazy" th:src="${prod.mainImageUrl}" class="card-img"
							style="height: 145px; object-fit: cover;" alt="Product">
						<span class="badge bg-warning position-absolute top-0 start-0 m-2 small latestProdIcon"
							style="color:black"><i class="fas fa-crown me-1"></i>最新上架</span>
						<div
							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2">
							<h6 class="text-white mb-0 w-100 text-center" th:text="${prod.prodName}">音樂會紀念T恤</h6>
						</div>
					</div>
				</a>
			</div>

			<!-- Product Card 2 -->
			<!-- 			<div class="col-6 col-md-4 col-lg-2"> -->
			<!-- 				<a href="pages/user/prod-detail.html" class="text-decoration-none"> -->
			<!-- 					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card"> -->
			<!-- 						<img loading="lazy" src="https://via.placeholder.com/300x300" class="card-img" -->
			<!-- 							style="height: 145px; object-fit: cover;" alt="Product"> -->
			<!-- 						<div -->
			<!-- 							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2"> -->
			<!-- 							<h6 class="text-white mb-0 w-100 text-center">經典Logo帆布袋</h6> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</a> -->
			<!-- 			</div> -->

			<!-- Product Card 3 -->
			<!-- 			<div class="col-6 col-md-4 col-lg-2"> -->
			<!-- 				<a href="pages/user/prod-detail.html" class="text-decoration-none"> -->
			<!-- 					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card"> -->
			<!-- 						<img loading="lazy" src="https://via.placeholder.com/300x300" class="card-img" -->
			<!-- 							style="height: 145px; object-fit: cover;" alt="Product"> -->
			<!-- 						<span class="badge bg-success position-absolute top-0 start-0 m-2 small">NEW</span> -->
			<!-- 						<div -->
			<!-- 							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2"> -->
			<!-- 							<h6 class="text-white mb-0 w-100 text-center">不鏽鋼保溫杯</h6> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</a> -->
			<!-- 			</div> -->

			<!-- Product Card 4 -->
			<!-- 			<div class="col-6 col-md-4 col-lg-2"> -->
			<!-- 				<a href="pages/user/prod-detail.html" class="text-decoration-none"> -->
			<!-- 					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card"> -->
			<!-- 						<img loading="lazy" src="https://via.placeholder.com/300x300" class="card-img" -->
			<!-- 							style="height: 145px; object-fit: cover;" alt="Product"> -->
			<!-- 						<div -->
			<!-- 							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2"> -->
			<!-- 							<h6 class="text-white mb-0 w-100 text-center">刺繡老帽</h6> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</a> -->
			<!-- 			</div> -->

			<!-- Product Card 5 -->
			<!-- 			<div class="col-6 col-md-4 col-lg-2"> -->
			<!-- 				<a href="pages/user/prod-detail.html" class="text-decoration-none"> -->
			<!-- 					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card"> -->
			<!-- 						<img loading="lazy" src="https://via.placeholder.com/300x300" class="card-img" -->
			<!-- 							style="height: 145px; object-fit: cover;" alt="Product"> -->
			<!-- 						<div -->
			<!-- 							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2"> -->
			<!-- 							<h6 class="text-white mb-0 w-100 text-center">限定海報組</h6> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</a> -->
			<!-- 			</div> -->

			<!-- Product Card 6 -->
			<!-- 			<div class="col-6 col-md-4 col-lg-2"> -->
			<!-- 				<a href="pages/user/prod-detail.html" class="text-decoration-none"> -->
			<!-- 					<div class="card h-100 border-secondary bg-dark overflow-hidden position-relative prod-hover-card"> -->
			<!-- 						<img loading="lazy" src="https://via.placeholder.com/300x300" class="card-img" -->
			<!-- 							style="height: 145px; object-fit: cover;" alt="Product"> -->
			<!-- 						<span class="badge bg-warning text-dark position-absolute top-0 start-0 m-2 small">限量</span> -->
			<!-- 						<div -->
			<!-- 							class="prod-overlay position-absolute w-100 h-100 top-0 start-0 d-flex align-items-end p-2"> -->
			<!-- 							<h6 class="text-white mb-0 w-100 text-center">紀念徽章套組</h6> -->
			<!-- 						</div> -->
			<!-- 					</div> -->
			<!-- 				</a> -->
			<!-- 			</div> -->
		</div>
	</section>

	<style>
		.prod-hover-card {
			transition: transform 0.2s;
		}

		.prod-hover-card:hover {
			transform: translateY(-4px);
		}

		.prod-overlay {
			background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, transparent 100%);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.prod-hover-card:hover .prod-overlay {
			opacity: 1;
		}
	</style>
	<!-- Hot Articles Section (緊湊版面) -->
	<section class="container-fluid py-4" style="max-width: 1400px;">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<div>
				<h4 class="mb-0">
					<i data-lucide="newspaper" class="text-info me-2"></i>熱門文章
				</h4>
			</div>
			<a th:href="@{/article}" class="text-decoration-none text-muted small"> 查看全部 <i
					class="fas fa-arrow-right"></i>
			</a>
		</div>

		<div class="row g-3">
			<div class="col-lg-4" th:if="${not #lists.isEmpty(hotArticles)}">
				<div th:with="firstArticle=${hotArticles[0]}">
					<a th:href="@{/article/detail(id=${firstArticle.articleId})}" class="text-decoration-none">
						<div class="card bg-dark border-secondary h-100 overflow-hidden article_hover">
							<div class="position-relative">
								<img th:src="${firstArticle.articleImages != null and not #lists.isEmpty(firstArticle.articleImages)} ? ${firstArticle.articleImages[0].imageUrl} : 'https://via.placeholder.com/600x300/2D5F4F/FFFFFF?text=Featured'"
									class="card-img-top" alt="Featured Article"
									style="height: 140px; object-fit: cover;">
								<div class="position-absolute top-0 start-0 m-2">
									<span class="badge bg-success small"><i class="fas fa-fire me-1"></i>精選</span>
								</div>
							</div>
							<div class="card-body p-1">
								<span class="badge bg-primary small mb-1">專欄</span>
								<h7 class="card-title text-white mb-1" th:text="${firstArticle.title}">文章標題</h7>
								<div class="d-flex align-items-center text-muted small">
									<span> <i class="far fa-clock me-1"></i> <span
											th:text="${#dates.format(firstArticle.createdAt, 'yyyy/MM/dd')}"></span>
									</span>
								</div>
							</div>
						</div>
					</a>
				</div>
			</div>

			<div class="col-lg-8">
				<div class="row g-2">
					<div class="col-md-6" th:each="article, iterStat : ${hotArticles}" th:if="${iterStat.index > 0}">
						<a th:href="@{/article/detail(id=${article.articleId})}" class="text-decoration-none">
							<div class="card bg-dark border-secondary article_hover">
								<div class="row g-0">
									<div class="col-4">
										<img th:src="${article.articleImages != null and not #lists.isEmpty(article.articleImages)} ? ${article.articleImages[0].imageUrl} : 'https://via.placeholder.com/200x120/3B82F6/FFFFFF?text=Article'"
											class="img-fluid rounded-start h-100"
											style="object-fit: cover; min-height: 90px;">
									</div>
									<div class="col-8">
										<div class="card-body p-2">
											<span class="badge bg-info small mb-1" style="font-size: 0.65rem;">最新</span>
											<h6 class="card-title text-white small mb-1" style="line-height: 1.3;"
												th:text="${article.title}">
												文章標題</h6>
											<div class="text-muted small" style="font-size: 0.7rem;">
												<i class="far fa-clock me-1"></i> <span
													th:text="${#dates.format(article.createdAt, 'MM/dd')}"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Global Search Modal -->
	<div class="modal fade" id="search_modal" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog modal-dialog-scrollable modal-lg">
			<div class="modal-content bg-dark text-white border-secondary">
				<div class="modal-header border-bottom border-secondary">
					<div class="input-group">
						<span class="input-group-text bg-transparent border-0 text-muted"><i
								class="fas fa-search"></i></span> <input type="text"
							class="form-control bg-transparent border-0 text-white shadow-none fs-5" id="search_input"
							placeholder="搜尋活動、商品、文章..." autocomplete="off">
					</div>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
				</div>
				<div class="modal-body p-0">
					<!-- Initial State -->
					<div id="search_init" class="p-4">
						<h6 class="text-muted text-uppercase small mb-3">熱門搜尋</h6>
						<div id="popular_tags" class="d-flex flex-wrap gap-2 mb-4">
							<div class="spinner-border spinner-border-sm text-secondary opacity-25"></div>
						</div>

						<h6 class="text-muted text-uppercase small mb-3">最近瀏覽</h6>
						<div id="recent_searches" class="list-group list-group-flush">
							<!-- Injected by JS -->
						</div>
					</div>

					<!-- Search Results -->
					<div id="search_results" class="d-none">
						<!-- Mock Results injected by JS -->
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row g-4">
			<div class="col-12 col-md-4">
				<h5 class="mb-3">關於 Momento</h5>
				<p class="text-muted small">連接人與活動的橋樑，讓每一個時刻都值得珍藏。我們致力於提供最優質的售票體驗與獨家周邊商品。</p>
			</div>
			<div class="col-6 col-md-2">
				<h5 class="mb-3">會員服務</h5>
				<ul class="list-unstyled text-muted small">
					<li class="mb-2"><a th:href="@{/member/login}" class="text-decoration-none text-muted">會員登入</a></li>
					<li class="mb-2"><a th:href="@{/member/dashboard}" class="text-decoration-none text-muted">會員中心</a>
					</li>
					<li class="mb-2"><a href="pages/public/faq.html" class="text-decoration-none text-muted">常見問題</a>
					</li>
					<li class="mb-2"><a href="#" class="text-decoration-none text-muted">聯絡客服</a></li>
				</ul>
			</div>
			<div class="col-6 col-md-2">
				<h5 class="mb-3">後台專區</h5>
				<ul class="list-unstyled text-muted small">
					<li class="mb-2"><a th:href="@{/organizer/apply}" class="text-decoration-none text-muted">成為主辦方</a>
					</li>
					<li class="mb-2"><a href="@{/terms}" class="text-decoration-none text-muted">服務條款</a></li>
				</ul>
			</div>
			<div class="col-12 col-md-4">
				<h5 class="mb-3">追蹤我們</h5>
				<div class="d-flex gap-3">
					<a href="#" class="text-muted fs-5"><i class="fab fa-facebook"></i></a>
					<a href="#" class="text-muted fs-5"><i class="fab fa-instagram"></i></a>
					<a href="#" class="text-muted fs-5"><i class="fab fa-twitter"></i></a>
					<a href="#" class="text-muted fs-5"><i class="fab fa-youtube"></i></a>
				</div>
			</div>
		</div>
		<hr class="border-secondary my-4">
		<div class="d-flex flex-row justify-content-between align-items-center text-muted small">
			<a th:href="@{/organizer/login}" class="text-decoration-none text-muted opacity-25 hover-opacity-100"
				title="主辦方入口" style="transition: opacity 0.3s;">
				<i class="fas fa-store-alt fs-6"></i>
			</a>
			<div class="opacity-50">&copy; 2026 Momento. All rights reserved.</div>
			<a th:href="@{/admin/login}" class="text-decoration-none text-muted opacity-25 hover-opacity-100"
				title="平台管理入口" style="transition: opacity 0.3s;">
				<i class="fas fa-user-shield fs-6"></i>
			</a>
		</div>
	</div>
	</footer>

	<!-- Scripts -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Lucide Icons -->
	<script src="https://unpkg.com/lucide@latest"></script>

	<!-- Modularized JS -->
	<script type="module" src="js/common/index.js"></script>
	<script type="module" src="js/pages/home.js"></script>
	<script>
		window.onload = function () {
			// Initialize Lucide Icons
			lucide.createIcons();
			const params = new URLSearchParams(window.location.search);
			if (params.has('registerSuccess')) {
				alert("註冊成功！");
			} // 清理網址參數
			const cleanUrl = window.location.protocol + "//"
				+ window.location.host + window.location.pathname;
			window.history.replaceState({
				path: cleanUrl
			}, '', cleanUrl);
		}

		$(document).ready(function () {
			$("span.latestProdIcon").each(function (i, icon) {
				if (i != 0) {
					$(icon).css("display", "none");
				}
			})

			// Logo 誇張動畫觸發
			$('.navbar-brand').on('click', function (e) {
				// 避免預設跳轉（如果是首頁點首頁）
				if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
					e.preventDefault();
				}

				const $logo = $(this);
				if ($logo.hasClass('logo-mega-pop')) return;

				$logo.addClass('logo-mega-pop');

				// 動畫結束後移除 class 以便下次觸發
				setTimeout(() => {
					$logo.removeClass('logo-mega-pop');
					// 導向首頁 (如果剛才沒跳轉)
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = $logo.attr('href');
					}
				}, 800);
			});
		})

	</script>
</body>

</html>